(e=>{let t=(e,t,r)=>e.querySelectorAll(t).forEach(r),r=document,l="getAttribute",o="getAttributeNames",i="replaceAll",m="innerHTML",a=e=>t(e,"template[_]",(e=>{t(r,e[l]("_"),(r=>{let a=e[m];for(let t of e[o]())"_"!=t&&(a=a[i](`{${t}}`,r[l](t)||e[l](t)));a=a[i]("{$children}",r[m]),r[m]=a,t(r,"if",(e=>e.replaceWith(...e[o]().some((e=>r.hasAttribute(e)))?e.childNodes:[]))),r.outerHTML=r[m]})),e.remove()}));a(r),t(r,"iframe.template-import",(e=>{e.onload=t=>{a(e.contentDocument),e.remove()}}))})();