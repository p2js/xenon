(e=>{let t=(e,t,r)=>e.querySelectorAll(t).forEach(r),r=document,l="getAttribute",o="getAttributeNames",a="replaceAll",c="innerHTML",i=e=>t(e,"template[_]",(e=>{t(r,e[l]("_"),(r=>{let i=e[c];e[o].forEach((t=>"_"!=t&&(i=i[a](`{${t}}`,r[l](t)||e[l](t))))),i=i[a]("{$children}",r[c]),r[c]=i,t(r,"if",(e=>e.replaceWith(...e[o]().some((e=>r.hasAttribute(e)))?e.childNodes:[]))),r.outerHTML=r[c]})),e.remove()}));i(r),t(r,"iframe.template-import",(e=>e.onload=t=>{i(e.contentDocument),e.remove()}))})();