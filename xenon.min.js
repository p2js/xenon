(e=>{let t=(e,t,l)=>e.querySelectorAll(t).forEach(l),l=(e,t)=>e.getAttribute(t),i=e=>e.remove(),m=document,r=e=>t(e,"template[_]",(e=>{t(m,l(e,"_"),(m=>{let r=e.innerHTML,instance=m;for(let t of e.getAttributeNames().filter((e=>"_"!=e)))r=r.replaceAll("{"+t+"}",l(m,t)||l(e,t));r=r.replaceAll("{$children}",m.innerHTML),m.innerHTML=r,t(m,"if",(e=>e.replaceWith(...e.getAttributeNames().some((e=>m.hasAttribute(e)))?e.childNodes:[]))),t(m,"script",(e=>{eval(e.innerHTML),i(e)})),m.outerHTML=m.innerHTML})),i(e)}));r(m),t(m,"iframe.template-import",(e=>{e.onload=t=>{r(e.contentDocument),i(e)}}))})();